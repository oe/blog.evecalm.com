<!DOCTYPE html><html lang="zh-Hans" class="scroll-smooth"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="/favicon.png" type="image/png"><title>[知识分享]关于字体及字符的小思考 - 夏影の博客</title><link rel="alternate" type="application/rss+xml" title="夏影の博客" href="https://blog.evecalm.com/atom.xml"><meta name="description" content="最近开发小软件的时候, 发现两个有意思的问题: 如何让时间表示形式 aa:bb 中的 : 垂直居中显示 在一个300px的容器中显示10个字符, 如何设置字体大小, 使得字体正好填满容器空间 连字 针对第一个问题, 很容想到的就是使用自定义元素绘制两个垂直居中的点, 但是略显麻烦, 且不能利用字体的特性(大小/颜色/行高等). 于是还是想通过字符实现, 因为在 unicode 中有大量字符, 一般..."><meta property="og:type" content="blog"><meta property="og:title" content="[知识分享]关于字体及字符的小思考"><meta property="og:url" content="https://blog.evecalm.com/2020/05/about-font-and-character.html"><meta property="og:site_name" content="夏影の博客"><meta property="og:local" content="zh-Hans"><meta property="og:description" content="最近开发小软件的时候, 发现两个有意思的问题: 如何让时间表示形式 aa:bb 中的 : 垂直居中显示 在一个300px的容器中显示10个字符, 如何设置字体大小, 使得字体正好填满容器空间 连字 针对第一个问题, 很容想到的就是使用自定义元素绘制两个垂直居中的点, 但是略显麻烦, 且不能利用字体的特性(大小/颜色/行高等). 于是还是想通过字符实现, 因为在 unicode 中有大量字符, 一般..."><meta property="og:image" content="//evecalm.com/assets/avatar.jpg"><meta property="article:author" content="Saiya"><link rel="canonical" href="https://blog.evecalm.com/2020/05/about-font-and-character.html"><link rel="stylesheet" href="/_astro/_pageList_.rVnnU10n.css">
<style>@charset "UTF-8";article h1,article h2,article h3,article h4,article h5,article h6{position:relative}article h1 .icon-link,article h2 .icon-link,article h3 .icon-link,article h4 .icon-link,article h5 .icon-link,article h6 .icon-link{position:absolute;left:-1em;opacity:0}article h1 .icon-link:after,article h2 .icon-link:after,article h3 .icon-link:after,article h4 .icon-link:after,article h5 .icon-link:after,article h6 .icon-link:after{content:"🔗";font-size:.6em}article h1:hover .icon-link,article h2:hover .icon-link,article h3:hover .icon-link,article h4:hover .icon-link,article h5:hover .icon-link,article h6:hover .icon-link{opacity:1}.post-title{margin-bottom:.2em}
.hover-tip{position:relative;&:before{content:attr(aria-label);position:absolute;bottom:120%;left:50%;width:-moz-max-content;width:max-content;transform:translate(-50%);padding:.5rem;background-color:#333;color:#ddd;border-radius:.25rem;box-shadow:0 0 .5rem #0000001a;z-index:10;display:none}&.bottom:before{top:120%;bottom:auto}&:hover:before{display:block}}
</style><script type="module">document.body.querySelectorAll("article img").forEach(t=>{const i=t.getAttribute("title")||t.getAttribute("alt");if(!i)return;const e=document.createElement("figure");t.parentNode.replaceChild(e,t),e.appendChild(t),t.insertAdjacentHTML("afterend",`<figcaption class="text-center italic">${i}</figcaption>`)});(function(){var t=window.document;function i(){return window.innerHeight+window.scrollY>=t.body.scrollHeight-400}function e(){if(!i()||(document.removeEventListener("scroll",e),window.disqus_config))return;const n=document.getElementById("disqus_thread");window.disqus_config=function(){this.page.url=n.getAttribute("data-url"),this.page.identifier=n.getAttribute("data-identifier")};var r=t.createElement("script");r.src="//"+n.getAttribute("data-shortname")+".disqus.com/embed.js",r.setAttribute("data-timestamp",Date.now()),(t.head||t.body).appendChild(r)}if(i()){e();return}document.addEventListener("scroll",e,{passive:!0})})();
</script></head> <body class="bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-300 font-sans text-wrap break-words relative"> <div class="border-b border-slate-100 dark:border-slate-700 mb-4"> <header class="max-w-4xl flex justify-between items-center m-auto py-6 px-4 font-serif text-slate-500 dark:text-slate-400 max-xs:flex-col max-xs:gap-2"> <h1 class="text-xl"> <a href="/">夏影の博客</a> </h1> <ul class="flex gap-4"> <li> <a href="/categories/">分类</a> </li> <li> <a href="/tags/">标签</a> </li> <li> <a href="https://evecalm.com/about" target="_blank">关于</a> </li> <li> <a href="/atom.xml" target="_blank" aria-label="RSS 订阅" class="hover-tip bottom"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg> </a> </li> <li> <a href="https://github.com/oe" target="_blank" aria-label="Github 账户" class="hover-tip bottom"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg> </a> </li> </ul> </header> </div>   <article class="format lg:format-lg max-w-4xl prose-zinc dark:format-invert mx-auto px-4 mb-4"> <h1 class="post-title">[知识分享]关于字体及字符的小思考</h1> <div class="text-slate-400 text-sm mb-2">2020年5月17日<!-- -->发布在 <a href="/categories/%E7%9F%A5%E8%AF%86%E5%88%86%E4%BA%AB/">知识分享</a></div> <p>最近开发小软件的时候, 发现两个有意思的问题:</p>
<ol>
<li>如何让时间表示形式 <code>aa:bb</code> 中的 <code>:</code> 垂直居中显示</li>
<li>在一个300px的容器中显示10个字符, 如何设置字体大小, 使得字体正好填满容器空间</li>
</ol>
<h2 id="连字"><a aria-hidden="true" tabindex="-1" href="#连字"><span class="icon icon-link"></span></a>连字</h2>
<p>针对第一个问题, 很容想到的就是使用自定义元素绘制两个垂直居中的点, 但是略显麻烦, 且不能利用字体的特性(大小/颜色/行高等). 于是还是想通过字符实现, 因为在 unicode 中有大量字符, 一般的标点字符都有多种变体以适用于不同场景, 总有一款能适合我的吧.</p>
<p>查阅<a href="https://en.wikipedia.org/wiki/Colon_(punctuation)#Computing" rel="noopener nofollow" target="_blank">百科</a>发现, 冒号的确有十多种变体, 如宽度不一样的, 形状奇特的, 位置有偏移的, 等等. 可没有一个符号满足我的这个简单需求. 在尝试中, 偶然发现, 冒号两边是数字时, 冒号自然就垂直居中了, 如下图所示</p>
<p><img src="https://yqlgmg.bn.files.1drv.com/y4mRDAovIeNXMjZ4D6PHmHqwOw0Yu8WcnbjXSaVHJ7AyvKXFNA47Dh7BbS-0-1H95FfZKWbeZyOXoCakLXn34nI5SMcCDPt-aC17Z4UL4UYcosFJQM6BYMzRvimXKfF9HH78xO5hc4cTAyBznTVDiKHhCCQH_liabO4lc8NanghuZJgBk83TjwcMCuyPziG0yoQ3C0rUCd2uKyDh0eBh-SElg" alt="time-colon"></p>
<p>(如果你想自己验证该现象, 可以在最新的macOS 上安装最新版钉钉, 在输入框中输入上述文字即可)</p>
<p>一切就豁然开朗了, 这就是<a href="https://zh.wikipedia.org/wiki/%E5%90%88%E5%AD%97" rel="noopener nofollow" target="_blank">连字</a> 现象, 不禁觉得苹果用户体验做的很好, 极大的缓解了强迫症症状.</p>
<p>连字就是将两个及以上字符合成一个字符, 连字需要在下述两种条件均满足时才会显示出效果.</p>
<ul>
<li>需要字体支持(至于哪些字符支持连字, 由字体自己控制)</li>
<li>需要文字渲染引擎支持连字, 操作系统均已支持连字, 但是部分软件可能会将连字功能关闭. 前端Web开发中可以使用css属性 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant-ligatures" rel="noopener nofollow" target="_blank">font-variant-ligatures</a> 控制是否启用连字.</li>
</ul>
<h3 id="编程字体"><a aria-hidden="true" tabindex="-1" href="#编程字体"><span class="icon icon-link"></span></a>编程字体</h3>
<p>连字的应用其实非常普遍, 对程序员来说影响最大的就是一些编程专用字体了. 所谓编程字体, 就是:</p>
<ul>
<li>将一些不容易区分的字符(如0oOLIil等)显著区分开</li>
<li>借助连字特性, 将一些常用的符号组合(如 =>, !=, ==, ===) 合成一个符号提供可读性</li>
<li>适当调整不同字符之间的间距, 使其容易阅读识别</li>
</ul>
<p><img src="https://bn1305files.storage.live.com/y4mXcm-u8WWUgw1rDHJZjoBPc6nj3wXvJAO59wIu2ZE4FSCrKfPXAbVittLHpZyiebyqYChqqAo5IrSIUJEfM31jDVsD4U_y4pYLH8Ks3F71M1iwmCef-I-p33yB3tpL7LVoFYXQXsTehfOOXavhZEegnVgF3Vht5d8XQTBEJb9utxijXXWUct0hqbuF4WZe8FlMyFStAmcUF0h6DFzkwsppw/fira-code.svg?psid=1&#x26;width=1360&#x26;height=2048" alt="fira code"></p>
<p>编程字体推荐: <a href="https://github.com/ProgrammingFonts/ProgrammingFonts" rel="noopener nofollow" target="_blank">ProgrammingFonts</a><br>
代码编辑器(IDE)开启连字功能的方法: <a href="https://github.com/tonsky/FiraCode/wiki" rel="noopener nofollow" target="_blank">How to enable ligatures</a></p>
<h2 id="字体大小"><a aria-hidden="true" tabindex="-1" href="#字体大小"><span class="icon icon-link"></span></a>字体大小</h2>
<p>再回到第二个问题, 其实问题的本质是: 「当我们设置 字体大小 时, 设置的是字体的宽还是高?」</p>
<p>经过一番试验测量(使用了<a href="https://getpixelsnap.com/" rel="noopener nofollow" target="_blank">PixelSnap</a>测量, 该软件为付费用软件, 但已经包含在了<a href="https://go.setapp.com/invite/johm1" rel="noopener nofollow" target="_blank">SetApp</a>中)后发现:</p>
<ol>
<li>大部分西文字符在不同字体下, 字体宽度总小于 字体大小 的值(大约为 字体大小 的 0.6 ~ 0.8), 但是高度与 字体大小 一致</li>
<li>中文字符(包括标点符号,即全角符号)在不同字体基本上宽高均与 字体大小 一致, 此谓 「字正腔圆」</li>
</ol>
<p>通过查阅资料<a href="https://en.wikipedia.org/wiki/Typeface_anatomy" rel="noopener nofollow" target="_blank">字体解剖</a>得知, 字体大小 所指的就是字体高度, 字体宽度是随字符及字体而变的</p>
<h2 id="字体类型"><a aria-hidden="true" tabindex="-1" href="#字体类型"><span class="icon icon-link"></span></a>字体类型</h2>
<p>在显示时间时, 秒数时刻在变, 不经过特殊设置, 会明显的发现整个时间字符宽度一直在不停变化, 对强迫症来说是一种煎熬. 这时候, 把字体换成一种「等宽字体」即可解决问题.</p>
<p>一般设置字体时, 可以设置为某一种特定字体, 比如 <code>Helvetica</code>、<code>微软雅黑</code>, 也可以是某一种字体类型(一种字体类型会包含多种字体, 若指定为字体类型, 则由系统底层自行决定使用哪一个字体渲染). 一般字体类型有:</p>
<ol>
<li><a href="https://zh.wikipedia.org/wiki/%E8%A1%AC%E7%BA%BF%E4%BD%93" rel="noopener nofollow" target="_blank">衬线体</a> <code>serif</code>: 中文字体中也称「白体」, 此类字体会有很多点缀修饰, 如 宋体、楷体. 衬线体由于多了边角修饰, 会相对美观, 但是也多了信息噪音, 容易使用户产生视觉疲劳, 一般建议仅针对需要着重强调的文字(比如 文章标题)采用该类型的字体. 同时由于衬线体的修饰元素不规则, 会产生锯齿现象, 实际使用时应结合反锯齿技术才能达到较好的显示效果.</li>
<li><a href="https://zh.wikipedia.org/zh-cn/%E6%97%A0%E8%A1%AC%E7%BA%BF%E4%BD%93" rel="noopener nofollow" target="_blank">无衬线体</a> <code>sans-serif</code>: 中文字体中也称「黑体」, 与衬线体相对, 该类字体没有多余的修饰, 如 微软雅黑 等. 无衬线体 适合屏幕中大量使用, 不会导致用户产生视觉疲劳问题.</li>
<li><a href="https://zh.wikipedia.org/wiki/%E7%AD%89%E5%AE%BD%E5%AD%97%E4%BD%93" rel="noopener nofollow" target="_blank">等宽字体</a> <code>monospace</code>: 此类字体每个字符宽度一致. 由于东亚的字体的字符本身基本都是等宽的, 所以一般在说等宽字体时, 都是指西文字体. 该字体的可读性较好, 一般在 代码编辑器 及 Terminal 中使用比较普遍.</li>
</ol> <div> <span class="mr-2 text-slate-400 text-sm">标签 </span> <a class=" bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 px-2 py-1 rounded-full" href="/tags/%E5%AD%97%E4%BD%93/">字体</a> </div> </article> <div class="px-4 max-w-4xl mx-auto relative"> <div class="relative flex justify-center py-4"><div class="absolute inset-x-0 top-1/2 h-px -translate-y-1/2 bg-transparent bg-gradient-to-r from-transparent via-gray-500 to-transparent opacity-75"></div><span class="relative z-1 bg-white px-6 dark:bg-slate-800">ஓ๑∗๑ஓ</span></div> <div class="flex justify-between mb-4 max-xs:flex-col max-xs:gap-4"> <div class="max-xs:flex max-xs:justify-between"> <a href="/2020/06/get-color-from-image.html" aria-label="[学习笔记]如何获取图片上某个像素点的颜色值" class="mr-4 hover-tip">
上一篇
</a> <a href="/2020/05/change-playback-rate-in-yunpan.html" aria-label="[知识分享]在浏览器中调整百度网盘播放速度的尝试" class="hover-tip">
下一篇
</a> </div> <div class="flex items-center gap-4 relative max-xs:justify-between"> <a href="#" class="hover-tip" aria-label="滚动到顶部"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-from-line"><path d="m18 9-6-6-6 6"></path><path d="M12 3v14"></path><path d="M5 21h14"></path></svg> </a> <a href="#disqus_thread" class="hover-tip" aria-label="评论"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-more"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path><path d="M8 12h.01"></path><path d="M12 12h.01"></path><path d="M16 12h.01"></path></svg> </a> <a href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fblog.evecalm.com%2F2020%2F05%2Fabout-font-and-character.html" target="_blank" class="hover-tip" aria-label="分享到 Twitter"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg> </a> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblog.evecalm.com%2F2020%2F05%2Fabout-font-and-character.html" target="_blank" class="hover-tip" aria-label="分享到 Facebook"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg> </a> </div> </div> <div id="disqus_thread" data-shortname="kalm" data-url="https://blog.evecalm.com/2020/05/about-font-and-character.html" data-identifier="2020/05/about-font-and-character.html"> <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div>  </div>  <footer class="text-center text-slate-500 dark:text-slate-300 my-16"> <div>
Copyrights © 2024 Saiya. All Rights Reserved
</div> <div> <a href="https://evecalm.com" target="_blank" class="text-slate-500 dark:text-slate-300">夏影</a> &
<a href="https://forth.ink" target="_blank" class="text-slate-500 dark:text-slate-300">𝗳𝗼𝗿𝘁𝗵𝗶𝗻𝗸</a> </div> </footer> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-DPSKR82X8Z"></script> <script defer>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-DPSKR82X8Z');
</script> </body></html>  