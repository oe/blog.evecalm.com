<!DOCTYPE html><html lang="zh-Hans" class="scroll-smooth"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="/favicon.png" type="image/png"><title>[å»ºç«™]Wordpress for æ–°æµªSAE å…æ’ä»¶å®ç°è¯„è®ºé‚®ä»¶æé†’ - å¤å½±ã®åšå®¢</title><link rel="alternate" type="application/rss+xml" title="å¤å½±ã®åšå®¢" href="https://blog.evecalm.com/atom.xml"><meta name="description" content="æ–°æµªSAEå¯ä»¥æ¯”è¾ƒå¥½çš„è¿è¡Œwordpressï¼Œä½†æ˜¯ç”±äºå®ƒä¸åŒäºä¸€èˆ¬ä¸»æœºï¼ŒåŠŸèƒ½ä¸Šæœ‰äº›é™åˆ¶ï¼Œæ¯”å¦‚ä¸èƒ½åœ¨wordpressåå°ç›´æ¥ä¿®æ”¹ä¸»é¢˜ä»£ç ï¼Œä¸æ”¯æŒwordpressé»˜è®¤çš„é‚®ä»¶å‡½æ•°ï¼Œè€Œï¼Œå®˜æ–¹ç»™å‡ºçš„è§£é‡Šéƒ½æ˜¯å‡ºäºå®‰å…¨åŸå› ã€‚ å¯¹äºåœ¨çº¿ä¿®æ”¹wordpressä¸»é¢˜åŠå…¶ä»–ä»£ç ï¼Œå¯ä»¥ç™»å½•SAEåè¿›å…¥ç›¸å…³åº”ç”¨æ‰“å¼€ä»£ç ç®¡ç†ï¼Œå³å¯åœ¨çº¿ä¿®æ”¹æ‰€æœ‰çš„ä»£ç ã€‚å¯¹äºé‚®ä»¶åŠŸèƒ½ï¼Œwordpress for SAE é‡Œæœ‰ä¸€ä¸ªWP-Mail..."><meta property="og:type" content="blog"><meta property="og:title" content="[å»ºç«™]Wordpress for æ–°æµªSAE å…æ’ä»¶å®ç°è¯„è®ºé‚®ä»¶æé†’"><meta property="og:url" content="https://blog.evecalm.com/2011/11/wordpress-for-sae-mail-comment/"><meta property="og:site_name" content="å¤å½±ã®åšå®¢"><meta property="og:local" content="zh-Hans"><meta property="og:description" content="æ–°æµªSAEå¯ä»¥æ¯”è¾ƒå¥½çš„è¿è¡Œwordpressï¼Œä½†æ˜¯ç”±äºå®ƒä¸åŒäºä¸€èˆ¬ä¸»æœºï¼ŒåŠŸèƒ½ä¸Šæœ‰äº›é™åˆ¶ï¼Œæ¯”å¦‚ä¸èƒ½åœ¨wordpressåå°ç›´æ¥ä¿®æ”¹ä¸»é¢˜ä»£ç ï¼Œä¸æ”¯æŒwordpressé»˜è®¤çš„é‚®ä»¶å‡½æ•°ï¼Œè€Œï¼Œå®˜æ–¹ç»™å‡ºçš„è§£é‡Šéƒ½æ˜¯å‡ºäºå®‰å…¨åŸå› ã€‚ å¯¹äºåœ¨çº¿ä¿®æ”¹wordpressä¸»é¢˜åŠå…¶ä»–ä»£ç ï¼Œå¯ä»¥ç™»å½•SAEåè¿›å…¥ç›¸å…³åº”ç”¨æ‰“å¼€ä»£ç ç®¡ç†ï¼Œå³å¯åœ¨çº¿ä¿®æ”¹æ‰€æœ‰çš„ä»£ç ã€‚å¯¹äºé‚®ä»¶åŠŸèƒ½ï¼Œwordpress for SAE é‡Œæœ‰ä¸€ä¸ªWP-Mail..."><meta property="og:image" content="/archived/ç½‘ç«™å»ºè®¾/å»ºç«™wordpress-for-æ–°æµªsae-å…æ’ä»¶å®ç°è¯„è®ºé‚®ä»¶æé†’.png"><meta property="article:author" content="Saiya"><link rel="canonical" href="https://blog.evecalm.com/2011/11/wordpress-for-sae-mail-comment/"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2280645987761425" crossorigin="anonymous"></script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CtSceO8m.js"></script><link rel="stylesheet" href="/_astro/_pageList_.C5_XtPIo.css">
<style>@charset "UTF-8";article h1,article h2,article h3,article h4,article h5,article h6{position:relative}article h1 .icon-link,article h2 .icon-link,article h3 .icon-link,article h4 .icon-link,article h5 .icon-link,article h6 .icon-link{position:absolute;left:-1em;opacity:0}article h1 .icon-link:after,article h2 .icon-link:after,article h3 .icon-link:after,article h4 .icon-link:after,article h5 .icon-link:after,article h6 .icon-link:after{content:"ğŸ”—";font-size:.6em}article h1:hover .icon-link,article h2:hover .icon-link,article h3:hover .icon-link,article h4:hover .icon-link,article h5:hover .icon-link,article h6:hover .icon-link{opacity:1}.post-title{margin-bottom:.2em}
</style><style>[data-astro-transition-scope="astro-zc5qi7ok-1"] { view-transition-name: archived_2f\7F51\7AD9\5EFA\8BBE_2f_5b\5EFA\7AD9_5dWordpress_20for_20\65B0\6D6ASAE_20\514D\63D2\4EF6\5B9E\73B0\8BC4\8BBA\90AE\4EF6\63D0\9192_2emd; }@layer astro { ::view-transition-old(archived_2f\7F51\7AD9\5EFA\8BBE_2f_5b\5EFA\7AD9_5dWordpress_20for_20\65B0\6D6ASAE_20\514D\63D2\4EF6\5B9E\73B0\8BC4\8BBA\90AE\4EF6\63D0\9192_2emd) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(archived_2f\7F51\7AD9\5EFA\8BBE_2f_5b\5EFA\7AD9_5dWordpress_20for_20\65B0\6D6ASAE_20\514D\63D2\4EF6\5B9E\73B0\8BC4\8BBA\90AE\4EF6\63D0\9192_2emd) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(archived_2f\7F51\7AD9\5EFA\8BBE_2f_5b\5EFA\7AD9_5dWordpress_20for_20\65B0\6D6ASAE_20\514D\63D2\4EF6\5B9E\73B0\8BC4\8BBA\90AE\4EF6\63D0\9192_2emd) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(archived_2f\7F51\7AD9\5EFA\8BBE_2f_5b\5EFA\7AD9_5dWordpress_20for_20\65B0\6D6ASAE_20\514D\63D2\4EF6\5B9E\73B0\8BC4\8BBA\90AE\4EF6\63D0\9192_2emd) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-zc5qi7ok-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-zc5qi7ok-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-zc5qi7ok-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-zc5qi7ok-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-zc5qi7ok-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-zc5qi7ok-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-zc5qi7ok-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-zc5qi7ok-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-lp6lhgnj-2"] { view-transition-name: header; }@layer astro { ::view-transition-old(header) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(header) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(header) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(header) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-lp6lhgnj-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-lp6lhgnj-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-lp6lhgnj-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-lp6lhgnj-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-lp6lhgnj-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-lp6lhgnj-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-lp6lhgnj-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-lp6lhgnj-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-lpoptpmc-3"] { view-transition-name: footer; }@layer astro { ::view-transition-old(footer) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(footer) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(footer) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(footer) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-lpoptpmc-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-lpoptpmc-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-lpoptpmc-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-lpoptpmc-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-lpoptpmc-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-lpoptpmc-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-lpoptpmc-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-lpoptpmc-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body class="bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-300 font-sans text-wrap break-words relative"> <div class="border-b border-slate-100 dark:border-slate-700 mb-4"> <header class="max-w-4xl flex justify-between items-center m-auto py-6 px-4 font-serif text-slate-500 dark:text-slate-400 max-xs:flex-col max-xs:gap-2"> <h1 class="text-xl"> <a href="/">å¤å½±ã®åšå®¢</a> </h1> <ul class="flex gap-4"> <li> <a href="/categories/">åˆ†ç±»</a> </li> <li> <a href="/tags/">æ ‡ç­¾</a> </li> <li> <a href="https://evecalm.com/about" target="_blank">å…³äº</a> </li> <li> <a href="/atom.xml" target="_blank" aria-label="RSS è®¢é˜…" class="hover-tip bottom"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg> </a> </li> <li> <a href="https://github.com/oe" target="_blank" aria-label="Github è´¦æˆ·" class="hover-tip bottom"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg> </a> </li> </ul> </header> </div>   <article class="prose  max-w-4xl prose-zinc dark:prose-invert mx-auto px-4 mb-4"> <h1 class="post-title" data-astro-transition-scope="astro-zc5qi7ok-1"> [å»ºç«™]Wordpress for æ–°æµªSAE å…æ’ä»¶å®ç°è¯„è®ºé‚®ä»¶æé†’ </h1> <div class="text-slate-400 text-sm mb-2">2011å¹´11æœˆ28æ—¥<!-- -->å‘å¸ƒåœ¨ <a href="/categories/%E5%BB%BA%E7%AB%99/">å»ºç«™</a></div> <p>æ–°æµªSAEå¯ä»¥æ¯”è¾ƒå¥½çš„è¿è¡Œwordpressï¼Œä½†æ˜¯ç”±äºå®ƒä¸åŒäºä¸€èˆ¬ä¸»æœºï¼ŒåŠŸèƒ½ä¸Šæœ‰äº›é™åˆ¶ï¼Œæ¯”å¦‚ä¸èƒ½åœ¨wordpressåå°ç›´æ¥ä¿®æ”¹ä¸»é¢˜ä»£ç ï¼Œä¸æ”¯æŒwordpressé»˜è®¤çš„é‚®ä»¶å‡½æ•°ï¼Œè€Œï¼Œå®˜æ–¹ç»™å‡ºçš„è§£é‡Šéƒ½æ˜¯å‡ºäºå®‰å…¨åŸå› ã€‚</p>
<p>å¯¹äºåœ¨çº¿ä¿®æ”¹wordpressä¸»é¢˜åŠå…¶ä»–ä»£ç ï¼Œå¯ä»¥ç™»å½•SAEåè¿›å…¥ç›¸å…³åº”ç”¨æ‰“å¼€ä»£ç ç®¡ç†ï¼Œå³å¯åœ¨çº¿ä¿®æ”¹æ‰€æœ‰çš„ä»£ç ã€‚å¯¹äºé‚®ä»¶åŠŸèƒ½ï¼Œwordpress for SAE é‡Œæœ‰ä¸€ä¸ªWP-Mail-SMTPæ’ä»¶ï¼Œä½†æ˜¯å…¶åŠŸèƒ½å·®å¼ºäººæ„ï¼Œå¹¶ä¸èƒ½å®ç°è¯„è®ºé‚®ä»¶æé†’è®¿å®¢ï¼Œåªèƒ½æé†’ç«™é•¿ã€‚è€ŒSAEæœ¬èº«å°±å°è£…äº†ä¸€ä¸ªé‚®ä»¶å‡½æ•°ï¼Œä½¿ç”¨è¯¥å‡½æ•°çš„èŒƒä¾‹ä»£ç å¦‚ä¸‹</p>

<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2280645987761425" data-ad-slot="4096334703" data-ad-format="auto" data-full-width-responsive="true"></ins>

<blockquote>
<p>æœ€å¤§å¯å‘é€1MBå¤§å°çš„é‚®ä»¶ï¼ˆå«é™„ä»¶</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>&#x3C;?ph</p>
</blockquote>
<blockquote>
<p>$mail = new SaeMail()</p>
</blockquote>
<blockquote>
<p>$mail->setAttach( array( â€˜my_photoâ€™ => â€˜ç…§ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®â€™ ) )</p>
</blockquote>
<blockquote>
<p>$ret = $mail->quickSend( â€˜<a href="mailto:to@sina.cn">to@sina.cn</a>â€™ , â€˜é‚®ä»¶æ ‡é¢˜â€™ , â€˜é‚®ä»¶å†…å®¹â€™ , â€˜<a href="mailto:smtpaccount@gmail.com">smtpaccount@gmail.com</a>â€™ , â€˜passwordâ€™ )</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>//å‘é€å¤±è´¥æ—¶è¾“å‡ºé”™è¯¯ç å’Œé”™è¯¯ä¿¡</p>
</blockquote>
<blockquote>
<p>if ($ret === false</p>
</blockquote>
<blockquote>
<p>var_dump($mail->errno(), $mail->errmsg())</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>$mail->clean(); // é‡ç”¨æ­¤å¯¹</p>
</blockquote>
<blockquote>
<p>$ret = $mail->quickSend( â€˜<a href="mailto:to@sina.cn">to@sina.cn</a>â€™ , â€˜é‚®ä»¶æ ‡é¢˜â€™ , â€˜é‚®ä»¶å†…å®¹â€™ , â€˜<a href="mailto:smtpaccount@unknown.com">smtpaccount@unknown.com</a>â€™ , â€˜passwordâ€™ , â€˜smtp.unknown.comâ€™ , 25 ); // æŒ‡å®šsmtpå’Œç«¯</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>//å‘é€å¤±è´¥æ—¶è¾“å‡ºé”™è¯¯ç å’Œé”™è¯¯ä¿¡</p>
</blockquote>
<blockquote>
<p>if ($ret === false</p>
</blockquote>
<blockquote>
<p>var_dump($mail->errno(), $mail->errmsg())</p>
</blockquote>
<blockquote>
<p>?&#x26;gt</p>
</blockquote>
<blockquote>
<p>æ›´å¤šç›¸å…³è¯´æ˜å¯ä»¥çœ‹[å®˜æ–¹æ–‡æ¡£](<a href="http://apidoc.sinaapp.com/sae/SaeMail.html" rel="noopener nofollow" target="_blank">http://apidoc.sinaapp.com/sae/SaeMail.html</a></p>
</blockquote>
<p>å¦‚æœä½ å¯¹phpæ¯”è¾ƒäº†è§£çš„è¯ï¼Œå®Œå…¨å¯ä»¥å‚ç…§ä»¥ä¸Šä»£ç ä¸ºè‡ªå·±çš„Wordpress for SAEæ·»åŠ é‚®ä»¶è¯„è®ºæé†’åŠŸèƒ½ï¼Œå¦åˆ™çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç (æœ¬ç«™çš„é‚®ä»¶æé†’å³ç”¨ä»¥ä¸‹ä»£ç å®ç°çš„)</p>
<blockquote>
<p>//comment_mail_notify(æ‰€æœ‰çš„å›å¤éƒ½ä¼šå‘é‚®ä»¶é€šçŸ¥</p>
</blockquote>
<blockquote>
<p>function comment_mail_notify($comment_id)</p>
</blockquote>
<blockquote>
<p>$admin_email = get_bloginfo (â€˜admin_emailâ€™); // $admin_email å¯æ”¹ç‚ºä½ æŒ‡å®šçš„ e-mail</p>
</blockquote>
<blockquote>
<p>$comment = get_comment($comment_id)</p>
</blockquote>
<blockquote>
<p>$comment_author_email = trim($comment->comment_author_email)</p>
</blockquote>
<blockquote>
<p>$parent_id = $comment->comment_parent ? $comment->comment_parent : â€</p>
</blockquote>
<blockquote>
<p>$to = $parent_id ? trim(get_comment($parent_id)->comment_author_email) : â€</p>
</blockquote>
<blockquote>
<p>$spam_confirmed = $comment->comment_approved</p>
</blockquote>
<blockquote>
<p>if (($parent_id != â€) &#x26;&#x26; ($spam_confirmed != â€˜spamâ€™) &#x26;&#x26; ($to != $admin_email)&#x26;&#x26;isset($_POST[â€˜comment_mail_notifyâ€™]))</p>
</blockquote>
<blockquote>
<p>/* ä¸Šé¢æ˜¯åˆ¤æ–­æ˜¯å¦å‘å‡ºé‚®ä»¶</p>
</blockquote>
<blockquote>
<p>($spam_confirmed != â€˜spamâ€™): ä¸ç»™åƒåœ¾è¯„è®ºå‘é€é‚®ä»¶æé†’ï¼Œå¿…éœ€!</p>
</blockquote>
<blockquote>
<p>($to != $admin_email) : ä¸å‘é€é‚®ä»¶ç»™ç«™</p>
</blockquote>
<blockquote>
<p>($comment_author_email == $admin_email) : åªæœ‰ç«™é•¿è¯„è®ºæ—¶æ‰å‘é€é‚®ä»¶æ</p>
</blockquote>
<blockquote>
<p>isset($_POST[â€˜comment_mail_notifyâ€™]) :æ¥æ”¶é‚®ä»¶æé†’çš„å¤é€‰æ¡†è¢«é€‰ä¸­åˆ™å‘é€é‚®</p>
</blockquote>
<blockquote>
<p>ä»¥ä¸Šå¯è§†ä¸ªäººæƒ…å†µä¿®</p>
</blockquote>
<blockquote>
<ul>
<li></li>
</ul>
</blockquote>
<blockquote>
<p>$wp_email = â€˜ä½ çš„é‚®ç®±åœ°å€â€™;// . preg_replace(â€™#^<a href="http://www.#" rel="noopener nofollow" target="_blank">www.#</a>â€™, â€, strtolower($_SERVER[â€˜SERVER_NAMEâ€™])); // e-mail ç™¼å‡ºé», no-reply å¯æ”¹ç‚ºå¯ç”¨çš„ e-mail</p>
</blockquote>
<blockquote>
<p>$subject = â€˜æ‚¨åœ¨[â€™ . get_option(â€œblognameâ€) . â€˜]çš„ç•™è¨€æœ‰æ–°å›å¤â€™</p>
</blockquote>
<blockquote>
<p>$message =</p>
</blockquote>
<blockquote>
<p>&#x3C;div style=â€œmargin: 1em 40px 1em 40px;background-color:#eef2fa;border:1px solid #d8e3e8;color:#111;padding: 0 15px;-moz-border-radius:5px;-webkit-border-radius:5px;-khtml-border-radius:5px;border-radius:5px;â€œ&#x26;gt</p>
</blockquote>
<blockquote>
<p>&#x3C;p>â€™ . trim(get_comment($parent_id)->comment_author) . â€˜ï¼Œæ‚¨å¥½ï¼&#x3C;/p&#x26;gt</p>
</blockquote>
<blockquote>
<p>&#x3C;p>æ‚¨åœ¨&#x3C;strong>ã€Šâ€™ . get_the_title($comment->comment_post_ID) . â€™ã€‹&#x3C;/strong>çš„ç•™è¨€ï¼š&#x3C;/p&#x26;gt</p>
</blockquote>
<blockquote>
<p>&#x3C;p> â€™ . trim(get_comment($parent_id)->comment_content) . â€™&#x3C;/p&#x26;gt</p>
</blockquote>
<blockquote>
<p>&#x3C;p>&#x3C;strong>â€™ . trim($comment->comment_author) . â€™&#x3C;/strong>ç»™æ‚¨çš„å›å¤ï¼š&#x3C;/p&#x26;gt</p>
</blockquote>
<blockquote>
<p>&#x3C;p> â€™ . trim($comment->comment_content) . â€™&#x3C;/p&#x26;gt</p>
</blockquote>
<blockquote>
<p>&#x3C;p>æ‚¨å¯ä»¥ç‚¹å‡»&#x3C;a href=â€â€™ . htmlspecialchars(get_comment_link($parent_id)) . â€™â€œ>æŸ¥çœ‹å®Œæ•´çš„å…§å®¹&#x3C;/a>&#x3C;/p&#x26;gt</p>
</blockquote>
<blockquote>
<p>&#x3C;p>æ¬¢è¿å†åº¦å…‰ä¸´ &#x3C;a href=â€â€™ . get_option(â€˜homeâ€™) . â€™â€>â€™ . get_option(â€˜blognameâ€™) . â€™&#x3C;/a>&#x3C;/p&#x26;gt</p>
</blockquote>
<blockquote>
<p>&#x3C;p>æ¥è‡ªâ€™ . get_option(â€˜blognameâ€™) . â€˜çš„è¯šæŒšé—®å€™.&#x3C;/p>&#x3C;/div&#x26;gt</p>
</blockquote>
<blockquote>
<p>â€™</p>
</blockquote>
<blockquote>
<p>$mail = new SaeMail()</p>
</blockquote>
<blockquote>
<p>$options = array(â€œfromâ€=>$wp_email, â€œtoâ€=>$to, â€œsmtp_hostâ€=>â€˜é‚®ç®±çš„smtpæœåŠ¡å™¨åœ°å€â€™,â€œsmtp_usernameâ€=>â€˜ä½ çš„é‚®ç®±åœ°å€â€™,â€œsmtp_passwordâ€=>â€˜é‚®ç®±å¯†ç â€™,â€œsubjectâ€=>$subject,â€œcontentâ€=>$message,â€œcontent_typeâ€=>â€˜HTMLâ€™)</p>
</blockquote>
<blockquote>
<p>$ret=false</p>
</blockquote>
<blockquote>
<p>if($mail->setOpt($options)</p>
</blockquote>
<blockquote>
<p>$ret=$mail->send()</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>//å‘é€å¤±è´¥æ—¶è¾“å‡ºé”™è¯¯ç å’Œé”™è¯¯ä¿¡</p>
</blockquote>
<blockquote>
<p>if ($ret === false</p>
</blockquote>
<blockquote>
<p>var_dump($mail->errno(), $mail->errmsg())</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>add_action(â€˜comment_postâ€™, â€˜comment_mail_notifyâ€™)</p>
</blockquote>
<blockquote>
<p>// â€” END ---------------------------------------</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>//åœ¨è¯„è®ºæ¡†ä¸‹é¢æ·»åŠ ä¸€ä¸ªå¤é€‰æ¡†,ç”±è®¿å®¢å†³å®šæ˜¯å¦æ¥æ”¶é‚®ä»¶æé†’ï¼Œé»˜è®¤é€‰</p>
</blockquote>
<blockquote>
<p>function add_checkbox()</p>
</blockquote>
<blockquote>
<p>echo</p>
</blockquote>
<blockquote>
<p>&#x3C;input id=â€œcomment_mail_notifyâ€ style=â€œmargin-left: 20px;â€ type=â€œcheckboxâ€ name=â€œcomment_mail_notifyâ€ value=â€œcomment_mail_notifyâ€ checked=â€œtrueâ€ />&#x3C;label for=â€œcomment_mail_notifyâ€>é‚®ä»¶é€šçŸ¥å¯¹æ–¹&#x3C;/label>â€™</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>add_action(â€˜comment_formâ€™, â€˜add_checkboxâ€™)</p>
</blockquote>
<p>ä»¥ä¸Šä»£ç è½¬è‡ª<a href="http://hanolex.org/archives/420.html" rel="noopener nofollow" target="_blank">hanolex</a>ï¼Œä»£ç ç›¸å…³è¯´æ˜:</p>
<p>1ã€éœ€è¦ä¿®æ”¹çš„åœ°æ–¹æœ‰å››å¤„ï¼Œâ€œä½ çš„é‚®ç®±åœ°å€ â€ï¼ˆä¸¤å¤„å¿…é¡»ä¸€è‡´ï¼‰ï¼Œâ€œé‚®ç®±çš„smtpæœåŠ¡å™¨åœ°å€â€ï¼ˆéœ€é‚®ç®±æ”¯æŒsmtpï¼Œå¹¶å·²å¯ç”¨ï¼Œsmtpåœ°å€å½¢å¦‚smtp.qq.comï¼‰å’Œâ€œé‚®ç®±å¯†ç </p>
<p>Â 2ã€å¦‚æœæƒ³å»æ‰å¤é€‰æ¡†ï¼Œå¯ä»¥åˆ é™¤æœ€åä¸ƒè¡Œä»£ç ï¼Œç„¶åå»æ‰ä»¥ä¸Šä»£ç ç¬¬å…«è¡Œä¸­çš„â€œ&#x26;&#x26;isset($_POST[â€˜comment_mail_notifyâ€™])â€</p>
<p>æ³¨æ„,è¯·ä¸è¦å°†ä»¥ä¸Šä»£ç ä¸å…¶ä»–æœ‰ç±»ä¼¼åŠŸèƒ½çš„ä»£ç æˆ–è€…æ’ä»¶ä¸€èµ·å¯ç”¨,ä¼šäº§ç”Ÿå†²çªå¯¼è‡´åŠŸèƒ½å¤±æ•ˆ.å¦‚æœä½ ç¡®å®šè¦ä½¿ç”¨æœ¬ä»£ç ,è¯·åˆ é™¤ç›¸å…³ä»£ç ,åœç”¨ç›¸å…³æ’ä»¶,å¹¶ä¸Šä¼ Clean Optionsæ’ä»¶ï¼Œæ¸…ç†å› å¯ç”¨ç›¸å…³æ’ä»¶è€Œæ®‹ç•™ä¸‹æ¥çš„ä¿¡æ¯ã€‚</p>
<p>ç¥ä½ å¥½è¿ï¼å¦‚è¿˜æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·<a href="#respond">ç•™è¨€</a>ã€‚</p>
<p>æœ€åï¼Œå†æ¬¡åŠå‘Šå¤§å®¶ï¼ŒSAEå·²ç»ä¿®æ”¹äº†äº‘è±†èµ é€è§„åˆ™ï¼Œå®Œå…¨å•†ä¸šè¿è¥äº†ï¼Œä¸å†é€‚åˆæ™®é€šçš„å°ç½‘ç«™ï¼Œè€Œæˆ‘åœ¨ä¸ä¹…çš„å°†æ¥ä¹Ÿä¼šå†æ¬¡æ¬å®¶ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ æ˜¯ä¸€ä¸ªé«˜çº§çš„ç¨‹åºå¼€å‘è€…ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä¸ºæ–°æµªå¾®åšå¼€å‘ä¸€æ¬¾åº”ç”¨ï¼ˆæœ€å¥½æ˜¯å®¢æˆ·ç«¯åº”ç”¨ï¼‰ï¼Œå¹¶ç”³è¯·æ–°æµªå¼€å‘è€…è®¤è¯ï¼Œè¿™æ ·æ¯ä¸ªæœˆéƒ½å¯ä»¥è¡¥è¶³ä¸€ä¸‡ä¸ªè±†è±†ï¼Œå¯ä»¥è®©ä½ åœ¨SAEé•¿ä¹…å‘†ç€ï¼Œé™¤éæ–°æµªå†æ¬¡ä¿®æ”¹è§„åˆ™ã€‚</p> <div> <span class="mr-2 text-slate-400 text-sm">æ ‡ç­¾ </span> <a class=" bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 px-2 py-1 rounded-full" href="/tags/%E4%B8%BB%E6%9C%BA/">ä¸»æœº</a><a class=" bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 px-2 py-1 rounded-full" href="/tags/%E7%BD%91%E7%AB%99/">ç½‘ç«™</a><a class=" bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 px-2 py-1 rounded-full" href="/tags/%E9%82%AE%E4%BB%B6/">é‚®ä»¶</a> </div> </article> <div class="px-4 max-w-4xl mx-auto relative"> <div class="relative flex justify-center py-4"><div class="absolute inset-x-0 top-1/2 h-px -translate-y-1/2 bg-transparent bg-gradient-to-r from-transparent via-gray-500 to-transparent opacity-75"></div><span class="relative z-1 bg-white px-6 dark:bg-slate-800">à®“à¹‘âˆ—à¹‘à®“</span></div> <div class="flex justify-between mb-4 max-xs:flex-col max-xs:gap-4"> <div class="max-xs:flex max-xs:justify-between"> <a href="/2011/12/microblog-source-of-web.html" aria-label="[å»ºç«™]è‡ªå®šä¹‰å¾®åšæ¥æºï¼Œå·§ç”¨å¾®åšå¢åŠ ç½‘ç«™æµé‡" class="mr-4 hover-tip">
ä¸Šä¸€ç¯‡
</a> <a href="/2011/11/sous-les-branches.html" aria-label="[éŸ³ä¹]æ¢¦çš„æœµé›…-ã€ŠSous Les Branchesã€‹" class="hover-tip">
ä¸‹ä¸€ç¯‡
</a> </div> <div class="flex items-center gap-4 relative max-xs:justify-between"> <a href="#" class="hover-tip" aria-label="æ»šåŠ¨åˆ°é¡¶éƒ¨"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-from-line"><path d="m18 9-6-6-6 6"></path><path d="M12 3v14"></path><path d="M5 21h14"></path></svg> </a> <a href="#disqus_thread" class="hover-tip" aria-label="è¯„è®º"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-more"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path><path d="M8 12h.01"></path><path d="M12 12h.01"></path><path d="M16 12h.01"></path></svg> </a> <a href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fblog.evecalm.com%2F2011%2F11%2Fwordpress-for-sae-mail-comment%2F" target="_blank" class="hover-tip" aria-label="åˆ†äº«åˆ° Twitter"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg> </a> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblog.evecalm.com%2F2011%2F11%2Fwordpress-for-sae-mail-comment%2F" target="_blank" class="hover-tip" aria-label="åˆ†äº«åˆ° Facebook"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg> </a> </div> </div> <div id="disqus_thread" data-shortname="kalm" data-url="https://blog.evecalm.com/2011/11/wordpress-for-sae-mail-comment/" data-identifier="2011/11/wordpress-for-sae-mail-comment/"> <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> <script type="module">(function(){var t=window.document;function r(){return window.innerHeight+window.scrollY>=t.body.scrollHeight-400}function e(){if(!r()||(document.removeEventListener("scroll",e),window.disqus_config))return;const i=document.getElementById("disqus_thread");window.disqus_config=function(){this.page.url=i.getAttribute("data-url"),this.page.identifier=i.getAttribute("data-identifier")};var n=t.createElement("script");n.src="//"+i.getAttribute("data-shortname")+".disqus.com/embed.js",n.setAttribute("data-timestamp",Date.now()),(t.head||t.body).appendChild(n)}if(r()){e();return}document.addEventListener("scroll",e,{passive:!0})})();</script> </div>  <script type="text/javascript">
    function initPage() {
      document.body.querySelectorAll('article img').forEach((img) => {
        const title = img.getAttribute('title') || img.getAttribute('alt');
        if (!title) return;
        const figure = document.createElement('figure');
        img.parentNode.replaceChild(figure, img);
        figure.appendChild(img);
        img.insertAdjacentHTML(
          'afterend',
          `<figcaption class="text-center italic">${title}</figcaption>`
        );
      });
      (adsbygoogle = window.adsbygoogle || []).push({});
    }
    document.addEventListener('astro:page-load', initPage);
  </script>  <footer class="text-center text-slate-500 dark:text-slate-300 my-16"> <div>
Copyrights Â© 2026 Saiya. All Rights Reserved
</div> <div> <a href="https://evecalm.com" target="_blank" class="text-slate-500 dark:text-slate-300">å¤å½±</a> &
<a href="https://forth.ink" target="_blank" class="text-slate-500 dark:text-slate-300">ğ—³ğ—¼ğ—¿ğ˜ğ—µğ—¶ğ—»ğ—¸</a> </div> </footer> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-DPSKR82X8Z"></script> <script defer>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-DPSKR82X8Z');
</script> </body></html>